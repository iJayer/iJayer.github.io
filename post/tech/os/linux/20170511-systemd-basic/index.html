<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Linux | Systemd åŸºç¡€ - iJayer</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="zher" /><meta name="description" content="" /><meta name="keywords" content="linux, systemd" />






<meta name="generator" content="Hugo 0.52 with even 4.0.0" />


<link rel="canonical" href="https://zhezh09.github.io/post/tech/os/linux/20170511-systemd-basic/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<link href="/dist/even.93844dae.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="Linux | Systemd åŸºç¡€" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhezh09.github.io/post/tech/os/linux/20170511-systemd-basic/" /><meta property="article:published_time" content="2017-05-11T17:53:01&#43;08:00"/>
<meta property="article:modified_time" content="2017-12-01T19:53:01&#43;00:00"/>

<meta itemprop="name" content="Linux | Systemd åŸºç¡€">
<meta itemprop="description" content="">


<meta itemprop="datePublished" content="2017-05-11T17:53:01&#43;08:00" />
<meta itemprop="dateModified" content="2017-12-01T19:53:01&#43;00:00" />
<meta itemprop="wordCount" content="4927">



<meta itemprop="keywords" content="linux," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Linux | Systemd åŸºç¡€"/>
<meta name="twitter:description" content=""/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">iJayer</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/categories/footprint/">
        <li class="mobile-menu-item">FootPrint</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a>
  </ul>
</nav>
  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">iJayer</a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/footprint/">FootPrint</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li>
  </ul>
</nav>
    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Linux | Systemd åŸºç¡€</h1>

      <div class="post-meta">
        <span class="post-time"> 2017-05-11 </span>
        <div class="post-category">
            <a href="/categories/tech/"> tech </a>
            </div>
          <span class="more-meta"> 4927 words </span>
          <span class="more-meta"> 10 mins read </span>
        <span id="busuanzi_container_page_pv" class="more-meta"> <span id="busuanzi_value_page_pv"><img src="/img/spinner.svg" alt="spinner.svg"/></span> times read </span>
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content always-active">
    <nav id="TableOfContents">
<ul>
<li><a href="#ç”±æ¥">ç”±æ¥</a></li>
<li><a href="#systemd-æ¦‚è¿°">Systemd æ¦‚è¿°</a></li>
<li><a href="#ç³»ç»Ÿç®¡ç†">ç³»ç»Ÿç®¡ç†</a>
<ul>
<li><a href="#systemctl">systemctl</a></li>
<li><a href="#systemd-analyze">systemd-analyze</a></li>
<li><a href="#hostnamectl">hostnamectl</a></li>
<li><a href="#localectl">localectl</a></li>
</ul></li>
<li><a href="#unit">Unit</a>
<ul>
<li><a href="#unit-å«ä¹‰">Unit å«ä¹‰</a></li>
<li><a href="#unit-çŠ¶æ€">Unit çŠ¶æ€</a></li>
<li><a href="#unit-ç®¡ç†">Unit ç®¡ç†</a></li>
<li><a href="#ä¾èµ–å…³ç³»">ä¾èµ–å…³ç³»</a></li>
</ul></li>
<li><a href="#unit-é…ç½®æ–‡ä»¶">Unit é…ç½®æ–‡ä»¶</a>
<ul>
<li><a href="#æ¦‚è¿°">æ¦‚è¿°</a></li>
<li><a href="#é…ç½®æ–‡ä»¶çŠ¶æ€">é…ç½®æ–‡ä»¶çŠ¶æ€</a></li>
<li><a href="#é…ç½®æ–‡ä»¶æ ¼å¼">é…ç½®æ–‡ä»¶æ ¼å¼</a></li>
<li><a href="#é…ç½®æ–‡ä»¶çš„åŒºå—">é…ç½®æ–‡ä»¶çš„åŒºå—</a></li>
<li><a href="#unit-1"><code>[Unit]</code></a></li>
<li><a href="#install"><code>[Install]</code></a></li>
<li><a href="#service"><code>[Service]</code></a></li>
</ul></li>
<li><a href="#target">Target</a></li>
<li><a href="#æ—¥å¿—ç®¡ç†">æ—¥å¿—ç®¡ç†</a></li>
<li><a href="#see-also">See Also</a></li>
</ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <!-- æ‘˜è¦ -->

<h1 id="ç”±æ¥">ç”±æ¥</h1>

<p>å†å²ä¸Šï¼ŒLinux çš„å¯åŠ¨ä¸€ç›´é‡‡ç”¨initè¿›ç¨‹ã€‚ä¸‹é¢çš„å‘½ä»¤ç”¨æ¥å¯åŠ¨æœåŠ¡ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></pre></td>
<td class="lntd">
<pre class="chroma">$ sudo /etc/init.d/apache2 start
# æˆ–è€…
$ service apache2 start</pre></td></tr></table>
</div>
</div>
<p>è¿™ç§æ–¹æ³•æœ‰ä¸¤ä¸ªç¼ºç‚¹ï¼š</p>

<ul>
<li>ä¸€æ˜¯å¯åŠ¨æ—¶é—´é•¿ã€‚initè¿›ç¨‹æ˜¯ä¸²è¡Œå¯åŠ¨ï¼Œåªæœ‰å‰ä¸€ä¸ªè¿›ç¨‹å¯åŠ¨å®Œï¼Œæ‰ä¼šå¯åŠ¨ä¸‹ä¸€ä¸ªè¿›ç¨‹ã€‚</li>
<li>äºŒæ˜¯å¯åŠ¨è„šæœ¬å¤æ‚ã€‚initè¿›ç¨‹åªæ˜¯æ‰§è¡Œå¯åŠ¨è„šæœ¬ï¼Œä¸ç®¡å…¶ä»–äº‹æƒ…ã€‚è„šæœ¬éœ€è¦è‡ªå·±å¤„ç†å„ç§æƒ…å†µï¼Œè¿™å¾€å¾€ä½¿å¾—è„šæœ¬å˜å¾—å¾ˆé•¿ã€‚</li>
</ul>

<h1 id="systemd-æ¦‚è¿°">Systemd æ¦‚è¿°</h1>

<p>Systemd å°±æ˜¯ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜è€Œè¯ç”Ÿçš„ã€‚å®ƒçš„è®¾è®¡ç›®æ ‡æ˜¯ï¼Œä¸ºç³»ç»Ÿçš„å¯åŠ¨å’Œç®¡ç†æä¾›ä¸€å¥—å®Œæ•´çš„è§£å†³æ–¹æ¡ˆã€‚</p>

<p>ä½¿ç”¨äº† Systemdï¼Œå°±ä¸éœ€è¦å†ç”¨initäº†ã€‚Systemd å–ä»£äº†initdï¼Œæˆä¸ºç³»ç»Ÿçš„ç¬¬ä¸€ä¸ªè¿›ç¨‹ï¼ˆPID ç­‰äº 1ï¼‰ï¼Œå…¶ä»–è¿›ç¨‹éƒ½æ˜¯å®ƒçš„å­è¿›ç¨‹ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">$ systemctl --version </pre></td></tr></table>
</div>
</div>
<p>Systemd çš„ä¼˜ç‚¹æ˜¯åŠŸèƒ½å¼ºå¤§ï¼Œä½¿ç”¨æ–¹ä¾¿ï¼Œç¼ºç‚¹æ˜¯ä½“ç³»åºå¤§ï¼Œéå¸¸å¤æ‚ã€‚äº‹å®ä¸Šï¼Œç°åœ¨è¿˜æœ‰å¾ˆå¤šäººåå¯¹ä½¿ç”¨ Systemdï¼Œç†ç”±å°±æ˜¯å®ƒè¿‡äºå¤æ‚ï¼Œä¸æ“ä½œç³»ç»Ÿçš„å…¶ä»–éƒ¨åˆ†å¼ºè€¦åˆï¼Œè¿å &ldquo;keep simple, keep stupid&rdquo; çš„ <a href="http://www.ruanyifeng.com/blog/2009/06/unix_philosophy.html">Unix å“²å­¦</a>ã€‚</p>

<p><a href="#content"><strong>è¿”å›ç›®å½•</strong></a></p>

<h1 id="ç³»ç»Ÿç®¡ç†">ç³»ç»Ÿç®¡ç†</h1>

<p>Systemd å¹¶ä¸æ˜¯ä¸€ä¸ªå‘½ä»¤ï¼Œè€Œæ˜¯ä¸€ç»„å‘½ä»¤ï¼Œæ¶‰åŠåˆ°ç³»ç»Ÿç®¡ç†çš„æ–¹æ–¹é¢é¢ã€‚</p>

<h2 id="systemctl">systemctl</h2>

<p><code>systemctl</code> æ˜¯ Systemd çš„ä¸»è¦å‘½ä»¤ï¼Œç”¨äºç®¡ç†ç³»ç»Ÿ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># é‡å¯ç³»ç»Ÿ</span>
$ sudo systemctl reboot

<span class="c1"># å…³é—­ç³»ç»Ÿï¼Œåˆ‡æ–­ç”µæº</span>
$ sudo systemctl poweroff

<span class="c1"># CPUåœæ­¢å·¥ä½œ</span>
$ sudo systemctl halt

<span class="c1"># æš‚åœç³»ç»Ÿ</span>
$ sudo systemctl <span class="nb">suspend</span>

<span class="c1"># è®©ç³»ç»Ÿè¿›å…¥å†¬çœ çŠ¶æ€</span>
$ sudo systemctl hibernate

<span class="c1"># è®©ç³»ç»Ÿè¿›å…¥äº¤äº’å¼ä¼‘çœ çŠ¶æ€</span>
$ sudo systemctl hybrid-sleep

<span class="c1"># å¯åŠ¨è¿›å…¥æ•‘æ´çŠ¶æ€ï¼ˆå•ç”¨æˆ·çŠ¶æ€ï¼‰</span>
$ sudo systemctl rescue</code></pre></td></tr></table>
</div>
</div>
<h2 id="systemd-analyze">systemd-analyze</h2>

<p><code>systemd-analyze</code> å‘½ä»¤ç”¨äºæŸ¥çœ‹å¯åŠ¨è€—æ—¶ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># æŸ¥çœ‹å¯åŠ¨è€—æ—¶</span>
$ systemd-analyze                                                                                       
<span class="c1"># æŸ¥çœ‹æ¯ä¸ªæœåŠ¡çš„å¯åŠ¨è€—æ—¶</span>
$ systemd-analyze blame

<span class="c1"># æ˜¾ç¤ºç€‘å¸ƒçŠ¶çš„å¯åŠ¨è¿‡ç¨‹æµ</span>
$ systemd-analyze critical-chain

<span class="c1"># æ˜¾ç¤ºæŒ‡å®šæœåŠ¡çš„å¯åŠ¨æµ</span>
$ systemd-analyze critical-chain atd.service</code></pre></td></tr></table>
</div>
</div>
<h2 id="hostnamectl">hostnamectl</h2>

<p><code>hostnamectl</code> å‘½ä»¤ç”¨äºæŸ¥çœ‹å½“å‰ä¸»æœºçš„ä¿¡æ¯ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># æ˜¾ç¤ºå½“å‰ä¸»æœºçš„ä¿¡æ¯</span>
$ hostnamectl

<span class="c1"># è®¾ç½®ä¸»æœºåã€‚</span>
$ sudo hostnamectl set-hostname rhel</code></pre></td></tr></table>
</div>
</div>
<h2 id="localectl">localectl</h2>

<p>localectlå‘½ä»¤ç”¨äºæŸ¥çœ‹æœ¬åœ°åŒ–è®¾ç½®ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># æŸ¥çœ‹æœ¬åœ°åŒ–è®¾ç½®</span>
$ localectl

<span class="c1"># è®¾ç½®æœ¬åœ°åŒ–å‚æ•°ã€‚</span>
$ sudo localectl set-locale <span class="nv">LANG</span><span class="o">=</span>en_GB.utf8
$ sudo localectl set-keymap en_GB</code></pre></td></tr></table>
</div>
</div>
<p><a href="#content"><strong>è¿”å›ç›®å½•</strong></a></p>

<h1 id="unit">Unit</h1>

<h2 id="unit-å«ä¹‰">Unit å«ä¹‰</h2>

<p>Systemd å¯ä»¥ç®¡ç†æ‰€æœ‰ç³»ç»Ÿèµ„æºã€‚ä¸åŒçš„èµ„æºç§°ä¸º Unit (å•ä½)</p>

<p>Unit ä¸€å…±åˆ†æˆ 12 ç§ï¼š</p>

<ul>
<li>Service Unit: ç³»ç»ŸæœåŠ¡å™¨</li>
<li>Target Unit: å¤šä¸ª Unit æ„æˆçš„ä¸€ä¸ªç»„</li>
<li>Devcie Unit: ç¡¬ä»¶è®¾å¤‡</li>
<li>Mount Unit: æ–‡ä»¶ç³»ç»Ÿçš„æŒ‚è½½ç‚¹</li>
<li>Automount Unit: è‡ªåŠ¨æŒ‚è½½ç‚¹</li>
<li>Path Unit: æ–‡ä»¶æˆ–è·¯å¾„</li>
<li>Scope Unit: ä¸æ˜¯ç”± Systemd å¯åŠ¨çš„å¤–éƒ¨è¿›ç¨‹</li>
<li>Slice Unit: è¿›ç¨‹ç»„</li>
<li>Snapshot Unit: Systemd å¿«ç…§ï¼Œ å¯ä»¥åˆ‡å›æŸä¸ªå¿«ç…§</li>
<li>Socket Unit: è¿›ç¨‹é—´é€šä¿¡çš„ Socket</li>
<li>Swap Unit: Swap æ–‡ä»¶</li>
<li>Timer Unitï¼šå®šæ—¶å™¨</li>
</ul>

<blockquote>
<p><code>systemctl list-units</code> å‘½ä»¤å¯ä»¥æŸ¥çœ‹å½“å‰ç³»ç»Ÿçš„æ‰€æœ‰ Unit ã€‚</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># åˆ—å‡ºæ­£åœ¨è¿è¡Œçš„ Unit</span>
$ systemctl list-units

<span class="c1"># åˆ—å‡ºæ‰€æœ‰Unitï¼ŒåŒ…æ‹¬æ²¡æœ‰æ‰¾åˆ°é…ç½®æ–‡ä»¶çš„æˆ–è€…å¯åŠ¨å¤±è´¥çš„</span>
$ systemctl list-units --all

<span class="c1"># åˆ—å‡ºæ‰€æœ‰æ²¡æœ‰è¿è¡Œçš„ Unit</span>
$ systemctl list-units --all --state<span class="o">=</span>inactive

<span class="c1"># åˆ—å‡ºæ‰€æœ‰åŠ è½½å¤±è´¥çš„ Unit</span>
$ systemctl list-units --failed

<span class="c1"># åˆ—å‡ºæ‰€æœ‰æ­£åœ¨è¿è¡Œçš„ã€ç±»å‹ä¸º service çš„ Unit</span>
$ systemctl list-units --type<span class="o">=</span>service</code></pre></td></tr></table>
</div>
</div>
<h2 id="unit-çŠ¶æ€">Unit çŠ¶æ€</h2>

<p><code>systemctl status</code> å‘½ä»¤ç”¨äºæŸ¥çœ‹ç³»ç»ŸçŠ¶æ€å’Œå•ä¸ª Unit çš„çŠ¶æ€</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># æ˜¾ç¤ºç³»ç»ŸçŠ¶æ€</span>
$ systemctl status

<span class="c1"># æ˜¾ç¤ºå•ä¸ª Unit çš„çŠ¶æ€</span>
$ sysystemctl status bluetooth.service

<span class="c1"># æ˜¾ç¤ºè¿œç¨‹ä¸»æœºçš„æŸä¸ª Unit çš„çŠ¶æ€</span>
$ systemctl -H root@rhel7.example.com status httpd.service</code></pre></td></tr></table>
</div>
</div>
<p>é™¤äº† status å‘½ä»¤ï¼Œsystemctl è¿˜æä¾›äº†ä¸‰ä¸ªæŸ¥è¯¢çŠ¶æ€çš„ç®€å•æ–¹æ³•ï¼Œä¸»è¦ä¾›è„šæœ¬å†…éƒ¨çš„åˆ¤æ–­è¯­å¥ä½¿ç”¨ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># æ˜¾ç¤ºæŸä¸ª Unit æ˜¯å¦æ­£åœ¨è¿è¡Œ</span>
$ systemctl is-active application.service

<span class="c1"># æ˜¾ç¤ºæŸä¸ª Unit æ˜¯å¦å¤„äºå¯åŠ¨å¤±è´¥çŠ¶æ€</span>
$ systemctl is-failed application.service

<span class="c1"># æ˜¾ç¤ºæŸä¸ª Unit æœåŠ¡æ˜¯å¦å»ºç«‹äº†å¯åŠ¨é“¾æ¥</span>
$ systemctl is-enabled application.service</code></pre></td></tr></table>
</div>
</div>
<h2 id="unit-ç®¡ç†">Unit ç®¡ç†</h2>

<p>å¯¹äºç”¨æˆ·æ¥è¯´ï¼Œæœ€å¸¸ç”¨çš„æ˜¯ä¸‹é¢è¿™äº›å‘½ä»¤ï¼Œç”¨äºå¯åŠ¨å’Œåœæ­¢ Unitï¼ˆä¸»è¦æ˜¯ serviceï¼‰ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># ç«‹å³å¯åŠ¨ä¸€ä¸ªæœåŠ¡</span>
$ sudo systemctl start apache.service

<span class="c1"># ç«‹å³åœæ­¢ä¸€ä¸ªæœåŠ¡</span>
$ sudo systemctl stop apache.service

<span class="c1"># é‡å¯ä¸€ä¸ªæœåŠ¡</span>
$ sudo systemctl restart apache.service

<span class="c1"># æ€æ­»ä¸€ä¸ªæœåŠ¡çš„æ‰€æœ‰å­è¿›ç¨‹</span>
$ sudo systemctl <span class="nb">kill</span> apache.service

<span class="c1"># é‡æ–°åŠ è½½ä¸€ä¸ªæœåŠ¡çš„é…ç½®æ–‡ä»¶</span>
$ sudo systemctl reload apache.service

<span class="c1"># é‡è½½æ‰€æœ‰ä¿®æ”¹è¿‡çš„é…ç½®æ–‡ä»¶</span>
$ sudo systemctl daemon-reload

<span class="c1"># æ˜¾ç¤ºæŸä¸ª Unit çš„æ‰€æœ‰åº•å±‚å‚æ•°</span>
$ systemctl show httpd.service

<span class="c1"># æ˜¾ç¤ºæŸä¸ª Unit çš„æŒ‡å®šå±æ€§çš„å€¼</span>
$ systemctl show -p CPUShares httpd.service

<span class="c1"># è®¾ç½®æŸä¸ª Unit çš„æŒ‡å®šå±æ€§</span>
$ sudo systemctl set-property httpd.service <span class="nv">CPUShares</span><span class="o">=</span><span class="m">500</span></code></pre></td></tr></table>
</div>
</div>
<h2 id="ä¾èµ–å…³ç³»">ä¾èµ–å…³ç³»</h2>

<p>Unit ä¹‹é—´å­˜åœ¨ä¾èµ–å…³ç³»ï¼šA ä¾èµ–äº Bï¼Œå°±æ„å‘³ç€ Systemd åœ¨å¯åŠ¨ A çš„æ—¶å€™ï¼ŒåŒæ—¶ä¼šå»å¯åŠ¨ Bã€‚</p>

<p><code>systemctl list-dependencies</code> å‘½ä»¤åˆ—å‡ºä¸€ä¸ª Unit çš„æ‰€æœ‰ä¾èµ–ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">$ systemctl list-dependencies nginx.service</pre></td></tr></table>
</div>
</div>
<p>ä¸Šé¢å‘½ä»¤çš„è¾“å‡ºç»“æœä¹‹ä¸­ï¼Œæœ‰äº›ä¾èµ–æ˜¯ Target ç±»å‹ï¼ˆè¯¦è§ä¸‹æ–‡ï¼‰ï¼Œé»˜è®¤ä¸ä¼šå±•å¼€æ˜¾ç¤ºã€‚å¦‚æœè¦å±•å¼€ Targetï¼Œå°±éœ€è¦ä½¿ç”¨&ndash;allå‚æ•°ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">$ systemctl list-dependencies --all nginx.service</pre></td></tr></table>
</div>
</div>
<p><a href="#content"><strong>è¿”å›ç›®å½•</strong></a></p>

<h1 id="unit-é…ç½®æ–‡ä»¶">Unit é…ç½®æ–‡ä»¶</h1>

<h2 id="æ¦‚è¿°">æ¦‚è¿°</h2>

<p>æ¯ä¸€ä¸ª Unit éƒ½æœ‰ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œå‘Šè¯‰ Systemd æ€ä¹ˆå¯åŠ¨è¿™ä¸ª Unit</p>

<p>Systemd é»˜è®¤ä»ç›®å½• <code>/etc/systemd/system/</code> è¯»å–é…ç½®æ–‡ä»¶ã€‚ ä½†æ˜¯ï¼Œ é‡Œé¢å­˜æ”¾çš„å¤§éƒ¨åˆ†æ–‡ä»¶éƒ½æ˜¯ç¬¦å·é“¾æ¥ï¼ŒæŒ‡å‘ç›®å½• <code>/usr/lib/systemd/system/</code>, çœŸæ­£çš„é…ç½®æ–‡ä»¶å­˜æ”¾åœ¨é‚£ä¸ªç›®å½•</p>

<p><code>systemctl enable</code> å‘½ä»¤ç”¨äºåœ¨ä¸Šé¢ä¸¤ä¸ªç›®å½•ä¹‹é—´ï¼Œå»ºç«‹ç¬¦å·é“¾æ¥</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></pre></td>
<td class="lntd">
<pre class="chroma">$ sudo systemctl enable caddy.service
#  ç­‰åŒäº
$ sudo ln -s &#39;/usr/lib/systemd/system/caddy.service&#39; &#39;/etc/systemd/system/multi-user.target.wants/caddy.service&#39;</pre></td></tr></table>
</div>
</div>
<p>å¦‚æœé…ç½®æ–‡ä»¶é‡Œé¢è®¾ç½®äº†å¼€æœºå¯åŠ¨ï¼Œ <code>systemctl enable</code> å‘½ä»¤å°±ç›¸å½“äºæ¿€æ´»å¼€æœºå¯åŠ¨ï¼› ä¸ä¹‹å¯¹åº”ï¼Œ <code>systemctl disable</code> å‘½ä»¤ç”¨äºåœ¨ä¸¤ä¸ªç›®å½•ä¹‹é—´ï¼Œæ’¤é”€ç¬¦å·é“¾æ¥å…³ç³»ï¼Œç›¸å½“äºæ’¤é”€å¼€æœºå¯åŠ¨ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">$ sudo systemctl disable caddy.service</pre></td></tr></table>
</div>
</div>
<p>é…ç½®æ–‡ä»¶çš„åç¼€åï¼Œå°±æ˜¯è¯¥ Unit çš„ç§ç±»ï¼Œ æ¯”å¦‚ sshd.socketã€‚ å¦‚æœçœç•¥ï¼Œ Systsemd é»˜è®¤åç¼€åä¸º .service. æ‰€ä»¥ sshd ä¼šè¢«ç†è§£æˆä¸º sshd.service</p>

<h2 id="é…ç½®æ–‡ä»¶çŠ¶æ€">é…ç½®æ–‡ä»¶çŠ¶æ€</h2>

<p><code>systemctl list-unit-files</code> å‘½ä»¤ç”¨äºåˆ—å‡ºæ‰€æœ‰é…ç½®æ–‡ä»¶</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># åˆ—å‡ºæ‰€æœ‰é…ç½®æ–‡ä»¶</span>
$ systemctl list-unit-files

<span class="c1"># åˆ—å‡ºæŒ‡å®šç±»å‹çš„é…ç½®æ–‡ä»¶</span>
$ systemctl list-unit-files --type<span class="o">=</span>service</code></pre></td></tr></table>
</div>
</div>
<p>è¿™ä¸ªå‘½ä»¤ä¼šè¾“å‡ºä¸€ä¸ªåˆ—è¡¨</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ systemctl list-unit-files

UNIT FILE              STATE
chronyd.service        enabled
clamd@.service         static
clamd@scan.service     disabled</code></pre></td></tr></table>
</div>
</div>
<p>è¿™ä¸ªåˆ—è¡¨æ˜¾ç¤ºæ¯ä¸ªé…ç½®æ–‡ä»¶è¿›çš„çŠ¶æ€ï¼Œ ä¸€å…±æœ‰å››ç§ï¼š</p>

<ul>
<li>enabled: å·²å»ºç«‹å¯åŠ¨é“¾æ¥</li>
<li>disabled: æ²¡æœ‰å»ºç«‹å¯åŠ¨é“¾æ¥</li>
<li>static: è¯¥é…ç½®æ–‡ä»¶æ²¡æœ‰ [Install] éƒ¨åˆ†(æ— æ³•æ‰§è¡Œ)ï¼Œ åªèƒ½ä½œä¸ºå…¶ä»–é…ç½®æ–‡ä»¶çš„ä¾èµ–</li>
<li>masked: è¯¥é…ç½®æ–‡ä»¶è¢«ç¦æ­¢å»ºç«‹å¯åŠ¨é“¾æ¥</li>
</ul>

<p>Note: ä»é…ç½®æ–‡ä»¶çš„çŠ¶æ€æ— æ³•çœ‹å‡ºï¼Œ è¯¥ Unit æ˜¯å¦æ­£åœ¨è¿è¡Œã€‚ è¿™å¿…é¡»æ‰§è¡Œå‰é¢æåˆ°çš„ systemctl status å‘½ä»¤</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">$ systemctl status bluetooth.service</pre></td></tr></table>
</div>
</div>
<p>ä¸€æ—¦ä¿®æ”¹äº†é…ç½®æ–‡ä»¶ï¼Œ å°±è¦è®© Systemd é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶ï¼Œç„¶åé‡æ–°å¯åŠ¨ï¼Œ å¦åˆ™ä¿®æ”¹ä¸ä¼šç”Ÿæ•ˆ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span></pre></td>
<td class="lntd">
<pre class="chroma">$ sudo systemctl daemon-reload
$ sudo systemctl restart httpd.service</pre></td></tr></table>
</div>
</div>
<h2 id="é…ç½®æ–‡ä»¶æ ¼å¼">é…ç½®æ–‡ä»¶æ ¼å¼</h2>

<p>é…ç½®æ–‡ä»¶å°±æ˜¯æ™®é€šçš„æ–‡æœ¬æ–‡ä»¶ï¼Œ å¯ä»¥ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€ã€‚</p>

<p>systemctl cat å‘½ä»¤å¯ä»¥æŸ¥çœ‹é…ç½®æ–‡ä»¶çš„å†…å®¹</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@qxs ~<span class="o">]</span>$ systemctl cat caddy
<span class="c1"># /etc/systemd/system/caddy.service</span>
<span class="o">[</span>Unit<span class="o">]</span>
<span class="nv">Description</span><span class="o">=</span>Caddy HTTP/2 web server
<span class="nv">After</span><span class="o">=</span>syslog.target
<span class="nv">After</span><span class="o">=</span>network.target

<span class="o">[</span>Service<span class="o">]</span>
<span class="nv">User</span><span class="o">=</span>www-data
<span class="nv">Group</span><span class="o">=</span>www-data
<span class="nv">LimitNOFILE</span><span class="o">=</span><span class="m">64000</span>
<span class="nv">ExecStart</span><span class="o">=</span>/usr/local/bin/caddy --conf<span class="o">=</span>/etc/caddy/Caddyfile
<span class="nv">Restart</span><span class="o">=</span>on-failure

<span class="o">[</span>Install<span class="o">]</span>
<span class="nv">WantedBy</span><span class="o">=</span>multi-user.target</code></pre></td></tr></table>
</div>
</div>
<p>ä»ä¸Šé¢çš„è¾“å‡ºå¯ä»¥çœ‹åˆ°ï¼Œ é…ç½®æ–‡ä»¶åˆ†æˆå¥½å‡ ä¸ªåŒºå—ã€‚æ¯ä¸ªåŒºå—çš„ç¬¬ä¸€è¡Œï¼Œ æ˜¯ç”¨æ–¹æ‹¬å·è¡¨ç¤ºçš„åŒºåˆ«åï¼Œ æ¯”å¦‚ <code>[Unit]</code>ã€‚ æ³¨æ„ï¼Œé…ç½®æ–‡ä»¶çš„åŒºå—åå’Œå­—æ®µåéƒ½æ˜¯å¤§å°å†™æ•æ„Ÿçš„ã€‚</p>

<p>æ¯ä¸ªåŒºå—å†…éƒ¨éƒ½æ˜¯ä¸€äº›ç¬¦å·é“¾æ¥çš„é”®å€¼å¯¹</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>Section<span class="o">]</span>
<span class="nv">Directive1</span><span class="o">=</span>value
<span class="nv">Directive2</span><span class="o">=</span>value
. . .</code></pre></td></tr></table>
</div>
</div>
<blockquote>
<p>Note: é”®å€¼å¯¹çš„ç­‰å·ä¸¤ä¾§ä¸èƒ½æœ‰ç©ºæ ¼</p>
</blockquote>

<h2 id="é…ç½®æ–‡ä»¶çš„åŒºå—">é…ç½®æ–‡ä»¶çš„åŒºå—</h2>

<h2 id="unit-1"><code>[Unit]</code></h2>

<p><code>[Unit]</code> åŒºå—é€šå¸¸æ˜¯é…ç½®æ–‡ä»¶çš„ç¬¬ä¸€ä¸ªåŒºå—ï¼Œç”¨æ¥å®šä¹‰ Unit çš„å…ƒæ•°æ®ï¼Œä»¥åŠé…ç½®ä¸å…¶ä»– Unit çš„å…³ç³»ã€‚å…¶ä¸»è¦å­—æ®µå¦‚ä¸‹ï¼š</p>

<ul>
<li>Descritption: ç®€çŸ­æè¿°</li>
<li>Documentationï¼š æ–‡æ¡£åœ°å€</li>
<li>Requires: å½“å‰ Unit ä¾èµ–çš„å…¶ä»– Unitï¼Œ å¦‚æœå®ƒä»¬æ²¡æœ‰è¿è¡Œï¼Œå½“å‰ Unit ä¼šå¯åŠ¨å¤±è´¥</li>
<li>Wantsï¼šä¸å½“å‰ Unit é…åˆçš„å…¶ä»– Unitï¼Œ å¦‚æœä»–ä»¬æ²¡æœ‰ è¿è¡Œï¼Œ å½“å‰çš„ Unit ä¸ä¼šå¯åŠ¨å¤±è´¥</li>
<li>BindsTo: ä¸ Requires ç±»ä¼¼ï¼Œ å®ƒæŒ‡å®šçš„ Unit å¦‚æœæ¨å‡ºï¼Œ ä¼šå¯¼è‡´å½“å‰ Unit åœæ­¢è¿è¡Œ</li>
<li>Before: å¦‚æœè¯¥å­—æ®µæŒ‡å®šçš„ Unit ä¹Ÿè¦å¯åŠ¨ï¼Œé‚£ä¹ˆå¿…é¡»åœ¨å½“å‰çš„ Unit ä¹‹åå¯åŠ¨</li>
<li>Afterï¼š å¦‚æœè¯¥å­—æ®µæŒ‡å®šçš„ Unit ä¹Ÿè¦å¯åŠ¨ï¼Œé‚£ä¹ˆå¿…é¡»åœ¨å½“å‰çš„ Unit ä¹‹åå¯åŠ¨</li>
<li>Conflictsï¼šè¿™é‡ŒæŒ‡å®šçš„ Unit ä¸èƒ½ä¸å½“å‰ Unit åŒæ—¶è¿è¡Œ</li>
<li>Condition&hellip;ï¼šå½“å‰ Unit è¿è¡Œå¿…é¡»æ»¡è¶³çš„æ¡ä»¶ï¼Œå¦åˆ™ä¸ä¼šè¿è¡Œ</li>
<li>Assert&hellip;ï¼šå½“å‰ Unit è¿è¡Œå¿…é¡»æ»¡è¶³çš„æ¡ä»¶ï¼Œå¦åˆ™ä¼šæŠ¥å¯åŠ¨å¤±è´¥</li>
</ul>

<h2 id="install"><code>[Install]</code></h2>

<p><code>[Install]</code> é€šå¸¸æ˜¯é…ç½®æ–‡ä»¶çš„æœ€åä¸€ä¸ªåŒºå—ï¼Œç”¨æ¥å®šä¹‰å¦‚ä½•å¯åŠ¨ï¼Œä»¥åŠæ˜¯å¦å¼€æœºå¯åŠ¨ã€‚å®ƒçš„ä¸»è¦å­—æ®µå¦‚ä¸‹ï¼š</p>

<ul>
<li>WantedByï¼šå®ƒçš„å€¼æ˜¯ä¸€ä¸ªæˆ–å¤šä¸ª Targetï¼Œå½“å‰ Unit æ¿€æ´»æ—¶ï¼ˆenableï¼‰ç¬¦å·é“¾æ¥ä¼šæ”¾å…¥/etc/systemd/systemç›®å½•ä¸‹é¢ä»¥ Target å + .wantsåç¼€æ„æˆçš„å­ç›®å½•ä¸­</li>
<li>RequiredByï¼šå®ƒçš„å€¼æ˜¯ä¸€ä¸ªæˆ–å¤šä¸ª Targetï¼Œå½“å‰ Unit æ¿€æ´»æ—¶ï¼Œç¬¦å·é“¾æ¥ä¼šæ”¾å…¥/etc/systemd/systemç›®å½•ä¸‹é¢ä»¥ Target å + .requiredåç¼€æ„æˆçš„å­ç›®å½•ä¸­</li>
<li>Aliasï¼šå½“å‰ Unit å¯ç”¨äºå¯åŠ¨çš„åˆ«å</li>
<li>Alsoï¼šå½“å‰ Unit æ¿€æ´»ï¼ˆenableï¼‰æ—¶ï¼Œä¼šè¢«åŒæ—¶æ¿€æ´»çš„å…¶ä»– Unit</li>
</ul>

<h2 id="service"><code>[Service]</code></h2>

<p><code>[Service]</code> åŒºå—ç”¨æ¥ Service çš„é…ç½®ï¼Œåªæœ‰ Service ç±»å‹çš„ Unit æ‰æœ‰è¿™ä¸ªåŒºå—ã€‚å®ƒçš„ä¸»è¦å­—æ®µå¦‚ä¸‹ã€‚</p>

<ul>
<li>Typeï¼šå®šä¹‰å¯åŠ¨æ—¶çš„è¿›ç¨‹è¡Œä¸ºã€‚å®ƒæœ‰ä»¥ä¸‹å‡ ç§å€¼ã€‚

<ul>
<li>Type=simpleï¼šé»˜è®¤å€¼ï¼Œæ‰§è¡ŒExecStartæŒ‡å®šçš„å‘½ä»¤ï¼Œå¯åŠ¨ä¸»è¿›ç¨‹</li>
<li>Type=forkingï¼šä»¥ fork æ–¹å¼ä»çˆ¶è¿›ç¨‹åˆ›å»ºå­è¿›ç¨‹ï¼Œåˆ›å»ºåçˆ¶è¿›ç¨‹ä¼šç«‹å³é€€å‡º</li>
<li>Type=oneshotï¼šä¸€æ¬¡æ€§è¿›ç¨‹ï¼ŒSystemd ä¼šç­‰å½“å‰æœåŠ¡é€€å‡ºï¼Œå†ç»§ç»­å¾€ä¸‹æ‰§è¡Œ</li>
<li>Type=dbusï¼šå½“å‰æœåŠ¡é€šè¿‡D-Buså¯åŠ¨</li>
<li>Type=notifyï¼šå½“å‰æœåŠ¡å¯åŠ¨å®Œæ¯•ï¼Œä¼šé€šçŸ¥Systemdï¼Œå†ç»§ç»­å¾€ä¸‹æ‰§è¡Œ</li>
<li>Type=idleï¼šè‹¥æœ‰å…¶ä»–ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œå½“å‰æœåŠ¡æ‰ä¼šè¿è¡Œ</li>
</ul></li>
<li>ExecStartï¼šå¯åŠ¨å½“å‰æœåŠ¡çš„å‘½ä»¤</li>
<li>ExecStartPreï¼šå¯åŠ¨å½“å‰æœåŠ¡ä¹‹å‰æ‰§è¡Œçš„å‘½ä»¤</li>
<li>ExecStartPostï¼šå¯åŠ¨å½“å‰æœåŠ¡ä¹‹åæ‰§è¡Œçš„å‘½ä»¤</li>
<li>ExecReloadï¼šé‡å¯å½“å‰æœåŠ¡æ—¶æ‰§è¡Œçš„å‘½ä»¤</li>
<li>ExecStopï¼šåœæ­¢å½“å‰æœåŠ¡æ—¶æ‰§è¡Œçš„å‘½ä»¤</li>
<li>ExecStopPostï¼šåœæ­¢å½“å…¶æœåŠ¡ä¹‹åæ‰§è¡Œçš„å‘½ä»¤</li>
<li>RestartSecï¼šè‡ªåŠ¨é‡å¯å½“å‰æœåŠ¡é—´éš”çš„ç§’æ•°</li>
<li>Restartï¼šå®šä¹‰ä½•ç§æƒ…å†µ Systemd ä¼šè‡ªåŠ¨é‡å¯å½“å‰æœåŠ¡ï¼Œå¯èƒ½çš„å€¼åŒ…æ‹¬always- ï¼ˆæ€»æ˜¯é‡å¯ï¼‰ã€on-successã€on-failureã€on-abnormalã€on-abortã€- on-watchdog</li>
<li>TimeoutSecï¼šå®šä¹‰ Systemd åœæ­¢å½“å‰æœåŠ¡ä¹‹å‰ç­‰å¾…çš„ç§’æ•°</li>
<li>Environmentï¼šæŒ‡å®šç¯å¢ƒå˜é‡</li>
</ul>

<p><a href="#content"><strong>è¿”å›ç›®å½•</strong></a></p>

<h1 id="target">Target</h1>

<p>å¯åŠ¨è®¡ç®—æœºçš„æ—¶å€™ï¼Œéœ€è¦å¯åŠ¨å¤§é‡çš„ Unitã€‚å¦‚æœæ¯ä¸€æ¬¡å¯åŠ¨ï¼Œéƒ½è¦ä¸€ä¸€å†™æ˜æœ¬æ¬¡å¯åŠ¨éœ€è¦å“ªäº› Unitï¼Œæ˜¾ç„¶éå¸¸ä¸æ–¹ä¾¿ã€‚Systemd çš„è§£å†³æ–¹æ¡ˆå°±æ˜¯ Targetã€‚</p>

<p>ç®€å•è¯´ï¼ŒTarget å°±æ˜¯ä¸€ä¸ª Unit ç»„ï¼ŒåŒ…å«è®¸å¤šç›¸å…³çš„ Unit ã€‚å¯åŠ¨æŸä¸ª Target çš„æ—¶å€™ï¼ŒSystemd å°±ä¼šå¯åŠ¨é‡Œé¢æ‰€æœ‰çš„ Unitã€‚ä»è¿™ä¸ªæ„ä¹‰ä¸Šè¯´ï¼ŒTarget è¿™ä¸ªæ¦‚å¿µç±»ä¼¼äº&rdquo;çŠ¶æ€ç‚¹&rdquo;ï¼Œå¯åŠ¨æŸä¸ª Target å°±å¥½æ¯”å¯åŠ¨åˆ°æŸç§çŠ¶æ€ã€‚</p>

<p>ä¼ ç»Ÿçš„initå¯åŠ¨æ¨¡å¼é‡Œé¢ï¼Œæœ‰ RunLevel çš„æ¦‚å¿µï¼Œè·Ÿ Target çš„ä½œç”¨å¾ˆç±»ä¼¼ã€‚ä¸åŒçš„æ˜¯ï¼ŒRunLevel æ˜¯äº’æ–¥çš„ï¼Œä¸å¯èƒ½å¤šä¸ª RunLevel åŒæ—¶å¯åŠ¨ï¼Œä½†æ˜¯å¤šä¸ª Target å¯ä»¥åŒæ—¶å¯åŠ¨ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># æŸ¥çœ‹å½“å‰ç³»ç»Ÿçš„æ‰€æœ‰ Target</span>
$ systemctl list-unit-files --type<span class="o">=</span>target

<span class="c1"># æŸ¥çœ‹ä¸€ä¸ª Target åŒ…å«çš„æ‰€æœ‰ Unit</span>
$ systemctl list-dependencies multi-user.target

<span class="c1"># æŸ¥çœ‹å¯åŠ¨æ—¶çš„é»˜è®¤ Target</span>
$ systemctl get-default

<span class="c1"># è®¾ç½®å¯åŠ¨æ—¶çš„é»˜è®¤ Target</span>
$ sudo systemctl set-default multi-user.target

<span class="c1"># åˆ‡æ¢ Target æ—¶ï¼Œé»˜è®¤ä¸å…³é—­å‰ä¸€ä¸ª Target å¯åŠ¨çš„è¿›ç¨‹ï¼Œ</span>
<span class="c1"># systemctl isolate å‘½ä»¤æ”¹å˜è¿™ç§è¡Œä¸ºï¼Œ</span>
<span class="c1"># å…³é—­å‰ä¸€ä¸ª Target é‡Œé¢æ‰€æœ‰ä¸å±äºåä¸€ä¸ª Target çš„è¿›ç¨‹</span>
$ sudo systemctl isolate multi-user.target</code></pre></td></tr></table>
</div>
</div>
<p>Target ä¸ ä¼ ç»Ÿ RunLevel çš„å¯¹åº”å…³ç³»å¦‚ä¸‹</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">Traditional runlevel      New target name     Symbolically linked to...

Runlevel <span class="m">0</span>           <span class="p">|</span>    runlevel0.target -&gt; poweroff.target
Runlevel <span class="m">1</span>           <span class="p">|</span>    runlevel1.target -&gt; rescue.target
Runlevel <span class="m">2</span>           <span class="p">|</span>    runlevel2.target -&gt; multi-user.target
Runlevel <span class="m">3</span>           <span class="p">|</span>    runlevel3.target -&gt; multi-user.target
Runlevel <span class="m">4</span>           <span class="p">|</span>    runlevel4.target -&gt; multi-user.target
Runlevel <span class="m">5</span>           <span class="p">|</span>    runlevel5.target -&gt; graphical.target
Runlevel <span class="m">6</span>           <span class="p">|</span>    runlevel6.target -&gt; reboot.target</code></pre></td></tr></table>
</div>
</div>
<p>å®ƒä¸initè¿›ç¨‹çš„ä¸»è¦å·®åˆ«å¦‚ä¸‹:</p>

<blockquote>
<ul>
<li><p>é»˜è®¤çš„ RunLevelï¼ˆåœ¨/etc/inittabæ–‡ä»¶è®¾ç½®ï¼‰ç°åœ¨è¢«é»˜è®¤çš„ Target å–ä»£ï¼Œä½ç½®æ˜¯/etc/systemd/system/default.targetï¼Œé€šå¸¸ç¬¦å·é“¾æ¥åˆ°graphical.targetï¼ˆå›¾å½¢ç•Œé¢ï¼‰æˆ–è€…multi-user.targetï¼ˆå¤šç”¨æˆ·å‘½ä»¤è¡Œï¼‰ã€‚</p></li>

<li><p>å¯åŠ¨è„šæœ¬çš„ä½ç½®ï¼Œä»¥å‰æ˜¯/etc/init.dç›®å½•ï¼Œç¬¦å·é“¾æ¥åˆ°ä¸åŒçš„ RunLevel ç›®å½• ï¼ˆæ¯”å¦‚/etc/rc3.dã€/etc/rc5.dç­‰ï¼‰ï¼Œç°åœ¨åˆ™å­˜æ”¾åœ¨/lib/systemd/systemå’Œ/etc/systemd/systemç›®å½•ã€‚</p></li>

<li><p>é…ç½®æ–‡ä»¶çš„ä½ç½®ï¼Œä»¥å‰initè¿›ç¨‹çš„é…ç½®æ–‡ä»¶æ˜¯/etc/inittabï¼Œå„ç§æœåŠ¡çš„é…ç½®æ–‡ä»¶å­˜æ”¾åœ¨/etc/sysconfigç›®å½•ã€‚ç°åœ¨çš„é…ç½®æ–‡ä»¶ä¸»è¦å­˜æ”¾åœ¨/lib/systemdç›®å½•ï¼Œåœ¨/etc/systemdç›®å½•é‡Œé¢çš„ä¿®æ”¹å¯ä»¥è¦†ç›–åŸå§‹è®¾ç½®ã€‚</p></li>
</ul>
</blockquote>

<h1 id="æ—¥å¿—ç®¡ç†">æ—¥å¿—ç®¡ç†</h1>

<p>Systemd ç»Ÿä¸€ç®¡ç†æ‰€æœ‰ Unit çš„å¯åŠ¨æ—¥å¿—ã€‚ å¸¦æ¥çš„å¥½å¤„æ˜¯ï¼Œå¯ä»¥åªç”¨ <code>journalctl</code> ä¸€ä¸ªå‘½ä»¤ï¼Œ æŸ¥çœ‹æ‰€æœ‰æ—¥å¿—(å†…æ ¸æ—¥å¿—å’Œåº”ç”¨æ—¥å¿—)ã€‚æ—¥å¿—çš„é…ç½®æ–‡ä»¶æ˜¯ <code>/etc/systemd/journald.conf</code></p>

<p><code>journalctl</code> åŠŸèƒ½å¼ºå¤§ï¼Œ ç”¨æ³•éå¸¸å¤šï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span><span class="lnt">78
</span><span class="lnt">79
</span><span class="lnt">80
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># æŸ¥çœ‹æ‰€æœ‰æ—¥å¿—ï¼ˆé»˜è®¤æƒ…å†µä¸‹ ï¼Œåªä¿å­˜æœ¬æ¬¡å¯åŠ¨çš„æ—¥å¿—ï¼‰</span>
$ sudo journalctl

<span class="c1"># æŸ¥çœ‹å†…æ ¸æ—¥å¿—ï¼ˆä¸æ˜¾ç¤ºåº”ç”¨æ—¥å¿—ï¼‰</span>
$ sudo journalctl -k

<span class="c1"># æŸ¥çœ‹ç³»ç»Ÿæœ¬æ¬¡å¯åŠ¨çš„æ—¥å¿—</span>
$ sudo journalctl -b
$ sudo journalctl -b -0

<span class="c1"># æŸ¥çœ‹ä¸Šä¸€æ¬¡å¯åŠ¨çš„æ—¥å¿—ï¼ˆéœ€æ›´æ”¹è®¾ç½®ï¼‰</span>
$ sudo journalctl -b -1

<span class="c1"># æŸ¥çœ‹æŒ‡å®šæ—¶é—´çš„æ—¥å¿—</span>
$ sudo journalctl --since<span class="o">=</span><span class="s2">&#34;2012-10-30 18:17:16&#34;</span>
$ sudo journalctl --since <span class="s2">&#34;20 min ago&#34;</span>
$ sudo journalctl --since yesterday
$ sudo journalctl --since <span class="s2">&#34;2015-01-10&#34;</span> --until <span class="s2">&#34;2015-01-11 03:00&#34;</span>
$ sudo journalctl --since <span class="m">09</span>:00 --until <span class="s2">&#34;1 hour ago&#34;</span>

<span class="c1"># æ˜¾ç¤ºå°¾éƒ¨çš„æœ€æ–°10è¡Œæ—¥å¿—</span>
$ sudo journalctl -n

<span class="c1"># æ˜¾ç¤ºå°¾éƒ¨æŒ‡å®šè¡Œæ•°çš„æ—¥å¿—</span>
$ sudo journalctl -n <span class="m">20</span>

<span class="c1"># å®æ—¶æ»šåŠ¨æ˜¾ç¤ºæœ€æ–°æ—¥å¿—</span>
$ sudo journalctl -f

<span class="c1"># æŸ¥çœ‹æŒ‡å®šæœåŠ¡çš„æ—¥å¿—</span>
$ sudo journalctl /usr/lib/systemd/systemd

<span class="c1"># æŸ¥çœ‹æŒ‡å®šè¿›ç¨‹çš„æ—¥å¿—</span>
$ sudo journalctl <span class="nv">_PID</span><span class="o">=</span><span class="m">1</span>

<span class="c1"># æŸ¥çœ‹æŸä¸ªè·¯å¾„çš„è„šæœ¬çš„æ—¥å¿—</span>
$ sudo journalctl /usr/bin/bash

<span class="c1"># æŸ¥çœ‹æŒ‡å®šç”¨æˆ·çš„æ—¥å¿—</span>
$ sudo journalctl <span class="nv">_UID</span><span class="o">=</span><span class="m">33</span> --since today

<span class="c1"># æŸ¥çœ‹æŸä¸ª Unit çš„æ—¥å¿—</span>
$ sudo journalctl -u nginx.service
$ sudo journalctl -u nginx.service --since today

<span class="c1"># å®æ—¶æ»šåŠ¨æ˜¾ç¤ºæŸä¸ª Unit çš„æœ€æ–°æ—¥å¿—</span>
$ sudo journalctl -u nginx.service -f

<span class="c1"># åˆå¹¶æ˜¾ç¤ºå¤šä¸ª Unit çš„æ—¥å¿—</span>
$ journalctl -u nginx.service -u php-fpm.service --since today

<span class="c1"># æŸ¥çœ‹æŒ‡å®šä¼˜å…ˆçº§ï¼ˆåŠå…¶ä»¥ä¸Šçº§åˆ«ï¼‰çš„æ—¥å¿—ï¼Œå…±æœ‰8çº§</span>
<span class="c1"># 0: emerg</span>
<span class="c1"># 1: alert</span>
<span class="c1"># 2: crit</span>
<span class="c1"># 3: err</span>
<span class="c1"># 4: warning</span>
<span class="c1"># 5: notice</span>
<span class="c1"># 6: info</span>
<span class="c1"># 7: debug</span>
$ sudo journalctl -p err -b

<span class="c1"># æ—¥å¿—é»˜è®¤åˆ†é¡µè¾“å‡ºï¼Œ--no-pager æ”¹ä¸ºæ­£å¸¸çš„æ ‡å‡†è¾“å‡º</span>
$ sudo journalctl --no-pager

<span class="c1"># ä»¥ JSON æ ¼å¼ï¼ˆå•è¡Œï¼‰è¾“å‡º</span>
$ sudo journalctl -b -u nginx.service -o json

<span class="c1"># ä»¥ JSON æ ¼å¼ï¼ˆå¤šè¡Œï¼‰è¾“å‡ºï¼Œå¯è¯»æ€§æ›´å¥½</span>
$ sudo journalctl -b -u nginx.serviceqq
 -o json-pretty

<span class="c1"># æ˜¾ç¤ºæ—¥å¿—å æ®çš„ç¡¬ç›˜ç©ºé—´</span>
$ sudo journalctl --disk-usage

<span class="c1"># æŒ‡å®šæ—¥å¿—æ–‡ä»¶å æ®çš„æœ€å¤§ç©ºé—´</span>
$ sudo journalctl --vacuum-size<span class="o">=</span>1G

<span class="c1"># æŒ‡å®šæ—¥å¿—æ–‡ä»¶ä¿å­˜å¤šä¹…</span>
$ sudo journalctl --vacuum-time<span class="o">=</span>1years</code></pre></td></tr></table>
</div>
</div>
<h1 id="see-also">See Also</h1>

<blockquote>
<p>Thanks to the authors ğŸ™‚</p>
</blockquote>

<ul>
<li><a href="http://www.ruanyifeng.com/blog/2016/03/systemd-tutorial-commands.html">Systemd å…¥é—¨æ•™ç¨‹ï¼šå‘½ä»¤ç¯‡</a></li>
<li><a href="https://linux.cn/article-6888-1.html">æœ€ç®€æ˜æ‰¼è¦çš„ Systemd æ•™ç¨‹ï¼Œåªéœ€ååˆ†é’Ÿ</a></li>
</ul>
    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">Author</span>
    <span class="item-content">zher</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">LastMod</span>
    <span class="item-content">2017-12-01</span>
  </p>
  
  <p class="copyright-item">
    <span class="item-title">License</span>
    <span class="item-content"><a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">CC BY-NC-ND 4.0</a></span>
  </p>
</div><footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/linux/">linux</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/tech/os/linux/20170515-bash-basic-notes/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Linux | Bash åŸºç¡€</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/tech/devops/docker/20170509-docker-%E7%BD%91%E7%BB%9C%E5%AE%9E%E7%8E%B0%E5%92%8C%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%BC%8F/">
            <span class="next-text nav-default">Docker | ç½‘ç»œå®ç°å’Œç½‘ç»œæ¨¡å¼</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        <div id="gitalk-container"></div>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js" crossorigin="anonymous"></script>
    <script type="text/javascript">
      var gitalk = new Gitalk({
        id: '2017-05-11 17:53:01 \x2b0800 CST',
        title: 'Linux | Systemd åŸºç¡€',
        clientID: '4357c1dbcf7ef0515c29',
        clientSecret: '1ad00adfd9544bff956529daf898d4b81fed2a9d',
        repo: 'blog-comments',
        owner: 'zhezh09',
        admin: ['zhezh09'],
        body: decodeURI(location.href)
      });
      gitalk.render('gitalk-container');
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://github.com/gitalk/gitalk">comments powered by gitalk.</a></noscript>

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="mailto:zhezh.boy@gmail.com" class="iconfont icon-email" title="email"></a>
      <a href="https://twitter.com/zher16297365" class="iconfont icon-twitter" title="twitter"></a>
      <a href="https://www.facebook.com/zhe.zh.54" class="iconfont icon-facebook" title="facebook"></a>
      <a href="https://plus.google.com/u/0/103084907763171979239" class="iconfont icon-google" title="google"></a>
      <a href="https://github.com/zhezh09" class="iconfont icon-github" title="github"></a>
      <a href="https://weibo.com/p/1005053510554731/home?from=page_100505&amp;mod=TAB&amp;is_all=1#place" class="iconfont icon-weibo" title="weibo"></a>
      <a href="https://www.zhihu.com/people/boy-zhe/activities" class="iconfont icon-zhihu" title="zhihu"></a>
      <a href="https://www.instagram.com/zher09/" class="iconfont icon-instagram" title="instagram"></a>
  <a href="https://zhezh09.github.io/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  <div class="busuanzi-footer">
    <span id="busuanzi_container_site_pv"> site pv: <span id="busuanzi_value_site_pv"><img src="/img/spinner.svg" alt="spinner.svg"/></span> </span>
      <span class="division">|</span>
    <span id="busuanzi_container_site_uv"> site uv: <span id="busuanzi_value_site_uv"><img src="/img/spinner.svg" alt="spinner.svg"/></span> </span>
  </div>

  <span class="copyright-year">
    &copy; 
    2018 - 
    2019
    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">iJayer</span>
  </span>
</div>
    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>
<script type="text/javascript" src="/dist/even.ece58db6.min.js"></script>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-123995495-1', 'auto');
	ga('set', 'anonymizeIp', true);
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>







</body>
</html>
